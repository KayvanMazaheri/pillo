extends layout

block content
  .container
    .panel
      .panel-body
        if messages.success
          .alert.alert-success(role='alert')
            for success in messages.success
              div= success.msg
        if messages.error
          .alert.alert-danger(role='alert')
            for error in messages.error
              div= error.msg

        div.form-horizontal
          legend Pills Information
          table.table.table-striped
            thead
              tr
                th #
                th Icon
                th Title
                th Description
                th Time
            tbody
              for pill, index in pills
                tr
                  th(scope='row') (index+1)
                  th: img.img-responsive.img-thumbnail(src= pill.icon)
                  th #{pill.title}
                  th #{pill.description}
                  th #{moment(pill.rule.currentDate).fromNow()}
          unless pills && pills.length
            .alert.alert-info(role='note')
              p No Pills Available.

    .panel
      .panel-body
        form.form-horizontal(method='POST', action='/pill')
          legend New Pill
          .form-group
            label.col-sm-3(for='title') Title
            .col-sm-7
              input.form-control(type='text', name='title', id='title')
          .form-group
            label.col-sm-3(for='description') Description
            .col-sm-7
              input.form-control(type='text', name='description', id='description')
          .form-group
            label.col-sm-3(for='icon') Icon
            .col-sm-7
              select#icon.image-picker(name='icon')
                optgroup(label='Tablet')
                  option(data-img-src='/assets/image/icon/tablet-l-0.png', data-img-alt='Large Tablet #0', value='/assets/image/icon/tablet-l-0.png') Large Tablet #0
                  option(data-img-src='/assets/image/icon/tablet-l-1.png', data-img-alt='Large Tablet #1', value='/assets/image/icon/tablet-l-1.png') Large Tablet #1
                  option(data-img-src='/assets/image/icon/tablet-l-2.png', data-img-alt='Large Tablet #2', value='/assets/image/icon/tablet-l-2.png') Large Tablet #2
                  option(data-img-src='/assets/image/icon/tablet-l-3.png', data-img-alt='Large Tablet #3', value='/assets/image/icon/tablet-l-3.png') Large Tablet #3
                  option(data-img-src='/assets/image/icon/tablet-l-4.png', data-img-alt='Large Tablet #4', value='/assets/image/icon/tablet-l-4.png') Large Tablet #4
                  //option(data-img-src='/assets/image/icon/tablet-m-0.png', data-img-alt='Medium Tablet #0', value='/assets/image/icon/tablet-m-0.png') Medium Tablet #0
                  //option(data-img-src='/assets/image/icon/tablet-m-1.png', data-img-alt='Medium Tablet #1', value='/assets/image/icon/tablet-m-1.png') Medium Tablet #1
                  //option(data-img-src='/assets/image/icon/tablet-m-2.png', data-img-alt='Medium Tablet #2', value='/assets/image/icon/tablet-m-2.png') Medium Tablet #2
                  //option(data-img-src='/assets/image/icon/tablet-m-3.png', data-img-alt='Medium Tablet #3', value='/assets/image/icon/tablet-m-3.png') Medium Tablet #3
                  //option(data-img-src='/assets/image/icon/tablet-m-4.png', data-img-alt='Medium Tablet #4', value='/assets/image/icon/tablet-m-4.png') Medium Tablet #4
                  //option(data-img-src='/assets/image/icon/tablet-s-0.png', data-img-alt='Small Tablet #0', value='/assets/image/icon/tablet-s-0.png') Small Tablet #0
                  //option(data-img-src='/assets/image/icon/tablet-s-1.png', data-img-alt='Small Tablet #1', value='/assets/image/icon/tablet-s-1.png') Small Tablet #1
                  //option(data-img-src='/assets/image/icon/tablet-s-2.png', data-img-alt='Small Tablet #2', value='/assets/image/icon/tablet-s-2.png') Small Tablet #2
                  //option(data-img-src='/assets/image/icon/tablet-s-3.png', data-img-alt='Small Tablet #3', value='/assets/image/icon/tablet-s-3.png') Small Tablet #3
                  //option(data-img-src='/assets/image/icon/tablet-s-4.png', data-img-alt='Small Tablet #4', value='/assets/image/icon/tablet-s-4.png') Small Tablet #4
                optgroup(label='Pill')
                  option(data-img-src='/assets/image/icon/pill-0.png', data-img-alt='Pill #0', value='/assets/image/icon/pill-0.png') Pill #0
                  option(data-img-src='/assets/image/icon/pill-1.png', data-img-alt='Pill #1', value='/assets/image/icon/pill-1.png') Pill #1
                  option(data-img-src='/assets/image/icon/pill-2.png', data-img-alt='Pill #2', value='/assets/image/icon/pill-2.png') Pill #2
                  option(data-img-src='/assets/image/icon/pill-3.png', data-img-alt='Pill #3', value='/assets/image/icon/pill-3.png') Pill #3
                  option(data-img-src='/assets/image/icon/pill-4.png', data-img-alt='Pill #4', value='/assets/image/icon/pill-4.png') Pill #4

          hr
          .form-group
            label.col-sm-3 Start Date
            .col-sm-7
              input.form-control(type='text', name='startDate', id='startDate')
          .form-group
            label.col-sm-3 Start Time
            .col-sm-7
              input.form-control(type='text', name='startTime', id='startTime')
          .form-group
            label.col-sm-3 Next Date
            .col-sm-7
              input.form-control(type='text', name='nextDate', id='nextDate')
          .form-group
            label.col-sm-3 Next Time
            .col-sm-7
              input.form-control(type='text', name='nextTime', id='nextTime')
          .form-group
            .col-sm-4.col-sm-offset-3
              button.btn.btn-success(type='submit') Add Pill
block scripts
  script(src='/js/lib/image-picker/image-picker.js')
  script(src='/js/lib/pickadate/picker.js')
  script(src='/js/lib/pickadate/picker.date.js')
  script(src='/js/lib/pickadate/picker.time.js')
  script(src='/js/lib/pickadate/legacy.js')
  script.
    $('#startDate').pickadate();
    $('#nextDate').pickadate();
    $('#startTime').pickatime();
    $('#nextTime').pickatime();
    $("#icon").imagepicker()
